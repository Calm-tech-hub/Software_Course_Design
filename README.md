# 蜜蜂采蜜多轮对战 - Web管理平台

## 🎯 项目简介

这是一个现代化的Web管理平台，用于管理蜜蜂采蜜游戏的多轮对战系统。通过浏览器即可进行对战配置、查看排名、统计分析和算法上传。

## ✨ 主要功能

### 1. 对战管理 🎮
- **双向对战**: 自动进行A蜜蜂vsB大黄蜂 + B蜜蜂vsA大黄蜂两个阶段
- **实时进度**: 查看对战进度和日志
- **历史记录**: 浏览所有历史对局，支持一键回放

### 2. 积分榜 🏆
- **实时排名**: 根据平均得分自动排序
- **详细统计**: 显示总得分、对局数、最高分等信息
- **视觉效果**: 前三名特殊渐变色标识

### 3. 统计分析 📊
- **总览数据**: 总对局数、参赛组数、平均得分
- **趋势图表**: 最近对局得分折线图（使用Chart.js）
- **数据可视化**: 直观展示各组表现

### 4. 算法上传 📤
- **在线上传**: 通过Web界面上传HoneyBee.java和Hornet.java
- **自动编译**: 上传后自动编译成.class文件
- **即时生效**: 上传成功后立即可用于对战

## 🚀 快速开始

### 启动服务器

```bash
cd /home/ubuntu22/Desktop/软件课设/BF/BF
# 编译（首次）
javac -encoding UTF-8 SimpleJSON.java WebServer.java

# 启动
java WebServer
```

### 访问平台

服务器启动后，在浏览器中打开：

```
http://localhost:8080
```

## 📁 项目结构

```
BF/BF/
├── WebServer.java          # Web服务器主程序
├── SimpleJSON.java         # JSON工具类
├── web/                    # 前端文件
│   ├── index.html          # 主页面
│   ├── css/
│   │   └── style.css       # 样式文件
│   └── js/
│       └── app.js          # 前端逻辑
├── BattleRecords/          # 对局记录存储
└── ...（其他游戏文件）
```

## 🎨 界面预览

### 对战管理
- 选择对战组别（下拉菜单）
- 设置轮数（1-100）
- 启动双向对战
- 查看最近对局和历史记录

### 积分榜
- 🥇 第一名：粉红
- 🥈 第二名：蓝色
- 🥉 第三名：绿色
- 其他：紫色

### 统计分析
- 📊 图表展示最近10局得分趋势
- 📈 统计卡片显示总览数据

### 算法上传
- 输入3位数组别ID
- 选择HoneyBee.java和Hornet.java
- 一键上传并编译

## 🔧 技术栈

### 后端
- **Java HttpServer**: JDK内置HTTP服务器
- **SimpleJSON**: 自定义JSON序列化工具（无外部依赖）
- **文件系统**: 直接读取对局记录和组别信息

### 前端
- **HTML5 + CSS3**: 现代化响应式布局
- **Vanilla JavaScript**: 原生JS，无框架依赖
- **Chart.js**: 图表可视化库（CDN引入）

## 📡 API接口

### GET /api/groups
获取所有可用的组别列表

### POST /api/battle
启动对战
```json
{
  "groupA": "001",
  "groupB": "006",
  "rounds": 5
}
```

### GET /api/records
获取所有对局记录

### GET /api/rankings
获取排名榜数据

### GET /api/statistics
获取统计数据

### POST /api/upload
上传算法文件

### POST /api/replay
启动回放

## ⚙️ 配置说明

### 端口配置
默认端口：`8080`

修改端口：编辑 `WebServer.java` 中的 `PORT` 常量

### 组别路径
默认路径：`../../group/group/`

系统会自动扫描该目录下的所有组别

### 记录存储
默认路径：`BattleRecords/`

所有对局记录自动保存为`.dat`文件

## 🎯 使用流程

1. **启动服务器**
   ```bash
   ./start_web.sh
   ```

2. **打开浏览器**
   访问 `http://localhost:8080`

3. **上传算法**（可选）
   - 进入"算法上传"页面
   - 输入组别ID（如：123）
   - 选择两个Java文件
   - 点击上传

4. **开始对战**
   - 进入"对战管理"页面
   - 选择两个组
   - 设置轮数
   - 点击"开始双向对战"

5. **查看结果**
   - 等待对战完成
   - 在历史记录中查看详细数据
   - 点击"回放"按钮观看动画

6. **分析数据**
   - 进入"积分榜"查看排名
   - 进入"统计分析"查看图表

## 📝 注意事项

1. **组别ID格式**: 必须是3位数字（如001、123、456）
2. **文件编码**: 所有Java文件使用UTF-8编码
3. **并发限制**: 同时只能运行一个对战任务
4. **浏览器兼容**: 推荐使用Chrome、Firefox或Edge最新版本

**蜜蜂采蜜游戏 Web管理平台 v2.0**  
软件课程设计项目 | 2025年12月
